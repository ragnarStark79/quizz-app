{% extends "base.html" %}
{% block title %}New Ticket – Quizz{% endblock %}

{% block content %}
<div class="page-shell" style="max-width:var(--max-w-md);">
  <div class="page-header anim-fade">
    <div class="page-header-icon" style="background:linear-gradient(135deg,var(--primary),#8b5cf6);">✉️</div>
    <div>
      <h1>Create a Ticket</h1>
      <p>Describe your issue and we'll get back to you shortly.</p>
    </div>
    <a href="{{ url_for('support.list_tickets') }}" class="btn btn-secondary" style="margin-left:auto;">← Back</a>
  </div>

  <div class="alerts">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}{% for cat, msg in messages %}
    <div class="alert alert-{{ cat }}">{{ msg }}</div>
    {% endfor %}{% endif %}{% endwith %}
  </div>

  <div class="glass-card anim-slide">
    <form method="POST" action="{{ url_for('support.new_ticket') }}">
      <div class="form-group">
        <label class="form-label">Subject / Topic</label>
        <input type="text" name="subject" class="form-control" required placeholder="Briefly describe your issue…">
      </div>
      <div class="form-group">
        <label class="form-label">Message Details</label>
        <textarea name="message" class="form-control" rows="6" required
          placeholder="Provide as much context as possible…"></textarea>
      </div>
      <button type="submit" class="btn btn-primary btn-block btn-lg mt-4">Submit Request</button>
    </form>
  </div>
</div>
{% endblock %}